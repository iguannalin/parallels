<!DOCTYPE html>
<html>
    <head>
        <title>parallels</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
    </head>
    <body>
        <a id="_r" href=".">↺</a>
        <div id="_m">
            <table id="_g"></table>
        </div>
        <div id="_d"><p id="_c">hover over a character</p></div>
        <script>
            let createElement = (key) => document.createElement(key);
            let range = n => [...Array(n).keys()];
            let m = (fx) => Math[fx];
            let getRandomInt = (min, max) => m("floor")(m("random")() * (m("floor")(max) - m("ceil")(min)) + m("ceil")(min));
            let computeLoop = (iteration, fx) => range(iteration).forEach((k,i) => fx(i));
            let counter= "0123456789abcdef".split(""); // counter for unicode
            let getRadical = (i) => String.fromCodePoint(`0x2f${counter[m("floor")(i/10)%14]}${counter[m("floor")(i/100)%16]}`);
            let getAlphabet = (i) => `&#${96+i};`;
            let first = createElement("a");
            computeLoop(getRandomInt(5,7), (i) => {
                let ch = (i == 0 || getRandomInt(0,10) > 3) ? getRadical(getRandomInt(0,214)) : getAlphabet(getRandomInt(0,26));
                let span = createElement("span");
                Object.assign(span.style, 
                {"transform": `scale(${getRandomInt(5,15)/10},${getRandomInt(10,13)/10})`,
                "font-size": `${getRandomInt(34,36)}px`}
                );
                span.innerHTML = ch;
                first.appendChild(span);
            });
            computeLoop(m("floor")((window.innerWidth - 100)/80), () => {
                let tr = createElement("tr");
                computeLoop(m("round")((window.innerHeight - 200)/80), () => {
                    let a = first.cloneNode(true);
                    a.onclick = (e) => (e.target.children.length < 1) ? e.target.classList.add("black") : 0;
                    a.addEventListener('mouseover', (e) => (e.target.children.length < 1) ? (document.getElementById("_c").innerText = `${e.target.innerHTML}: U+${e.target.innerHTML.codePointAt(0)}`) : 0 );
                    tr.appendChild(a);
                });
                document.getElementById("_g").appendChild(tr);
            });
        </script>
        <style>
            #_r, #_d, #_m, table, #_m a, span {
            display: flex;
            justify-content: center;
            align-items: center;
            }
            body { 
            background-color: white;
            margin: 0 auto;
            font-family: serif;
            color:#bfbfbf;
            /* font-family: "Noto Sans CJK JP", Arial, cursive; */
            /* font-family: 楷体, 楷体_gb2312, "Kaiti SC", Arial, cursive; */
            /* font-family: "WenQuanYi Micro Hei", "SimSun"; */
            /* font-family: 'Comic Sans MS', cursive; */
            } #_r {
            text-decoration: none;
            font-size: 20px;
            font-weight: 500;
            box-sizing: border-box;
            padding: 16px 0 8px;
            } #_m, table, #_m a, span {
            flex-flow: row wrap;
            } #_m {
            width: 100vw;
            height: 80vh;
            } #_m a {
            border: 1px red dashed;
            overflow: hidden;
            box-sizing: border-box;
            width: 80px;
            height: 80px;
            padding: 10px;
            justify-content: space-around;
            cursor:crosshair;
            font-weight: 600;
            background:
            linear-gradient(to top left,transparent 0%,transparent calc(50% - 0.1px),red 50%,transparent calc(50% + 0.1px),transparent 100%),linear-gradient(to top right,transparent 0%,transparent calc(50% - 0.1px),red 50%,transparent calc(50% + 0.1px),transparent 100%);
            } span {
            margin: -17px 3px;
            max-width: 20px;
            } span:hover, tr:first-child a:first-child, .black, #_d {
            color: black;
            opacity: 0.8;
            }
        </style>
    </body>
</html>